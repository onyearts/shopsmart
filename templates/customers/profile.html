{% extends 'customers/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow">
    <div class="card-body d-flex align-items-center">
      <img src="{{ request.user.profile_picture.url }}" alt="Profile Picture" class="rounded-circle me-4" width="100" height="100">

      <div>
        <h4>{{ request.user.get_full_name }}</h4>
        <p class="text-muted">{{ request.user.email }}</p>
        <p><strong>Role:</strong>
          {% if request.user.is_shop_owner %} Shop Owner
          {% elif request.user.is_customer %} Customer
          {% endif %}
        </p>

        {% if profile %}
          {% if request.user.is_shop_owner %}
            <p><strong>Shop Name:</strong> {{ profile.shop_name }}</p>
            <p><strong>Phone:</strong> {{ profile.phone }}</p>
            <p><strong>Address:</strong> {{ profile.address }}</p>
            {% if profile.map_address %}
              <p><strong>Location:</strong> {{ profile.map_address }} ({{ profile.latitude }}, {{ profile.longitude }})</p>
            {% endif %}
          {% else %}
            <p><strong>Phone:</strong> {{ profile.phone }}</p>
            <p><strong>Preferred Location:</strong> {{ profile.preferred_location }}</p>
          {% endif %}
        {% endif %}

        <a href="{% url 'shops:edit_profile' %}" class="btn btn-primary btn-sm mt-3">Edit Profile</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
